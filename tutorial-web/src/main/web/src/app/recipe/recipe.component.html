<div>
  <form #addRecipeForm="ngForm" (ngSubmit)="addRecipes(addRecipeForm)" class="form-group">
    <label for="titleRecipe">*Title</label>
    <input #titleRecipe="ngModel" [(ngModel)]="recipe.title" appendTo="body" class="form-control"
           id="titleRecipe"
           name="titleRecipe" placeholder="Title is required" required type="text">

    <label id="ingredientListForRecipe" for="ingredientListForRecipe">Ingredient:</label>
    <ng-select (change)="setIngredients($event)" [multiple]="true"
               [searchable]="true"
               appendTo="body"
               class="form-control" id="ingredientListForRecipe1" name="ingredientListForRecipe">
      <ng-option *ngFor="let ing of appComponent.ingredients" [value]="ing">{{ing.title}}</ng-option>
    </ng-select>

    <table appendTo="body" class="my-table">
      <tr class="thead-dark">
        <th>Title</th>
        <th>Quantity</th>
        <th class="price">Price</th>
        <th>Supplier</th>
        <th>Brand</th>
      </tr>
      <tr *ngFor="let addIng of addIngMap | keyvalue;let i = index;" appendTo="body">

        <td> {{addIng.value.ingredient.title}} </td>
        <td>
          <input (change)="calculateCostTotal()"
                 [(ngModel)]="addIng.value.ingredient.quantityUnit" appendTo="body"
                 class="form-control" id="ingCont" name="ingCont" placeholder="Quantity" required type="text">
        </td>
        <td class="price"> {{addIng.value.ingredient.perUnitCost * addIng.value.ingredient.quantityUnit}} </td>


    <td>
        <ng-select  (change)="addSupplier($event)"
                   [multiple]="false"
                   [searchable]="true"
                   appendTo="body"
                   class="form-control" id="supplierForIng" name="supplierForIng">
          <ng-option *ngFor="let sup of addIng.value.ingredient.supplierForIngredients"
                     [selected]="addIng.value.ingredient.supplierForIngredients[0]"  [value]="sup">{{sup.supplier.title}}</ng-option>
        </ng-select>
    </td>
        <td>
          <ng-select  (change)="addBrand($event)"
            [multiple]="false"
                      [searchable]="true"
                      appendTo="body"
                      class="form-control" id="brandForIng" name="brandForIng">
            <ng-option *ngFor="let brand of addIng.value.ingredient.brandForIngredients"
                       [selected]="addIng.value.ingredient.brandForIngredients[0]"   [value]="brand">{{brand.brand.title}}</ng-option>
          </ng-select>
        </td>
        <td>
          <ng-select  (change)="addCategory($event)"
                      [multiple]="false"
                      [searchable]="true"
                      appendTo="body"
                      class="form-control" id="categoriesForIng" name="categoryForIng">
            <ng-option *ngFor="let categoryFor of addIng.value.ingredient.categoriesForIngredient"
                       [selected]="addIng.value.ingredient.categoriesForIngredient[0]"   [value]="categoryFor">{{categoryFor.category.title}}</ng-option>
          </ng-select>
        </td>
      </tr>

    </table>

    <div>
      <b>
        Total Price - {{totalCost}}
      </b>
    </div>

    <label id="categoryForRecipe" for="categoryForRecipe">Category</label>
    <ng-select (change)="setCategories($event)" [multiple]="true"
               [searchable]="true"
               appendTo="body"
               class="form-control" id="recipeForIng1" name="categoryForRecipe" [addTag]="true">
      <ng-option *ngFor="let cat of appComponent.categoriesRecipe" [value]="cat">{{cat.title}}</ng-option>
    </ng-select>


    <label for="subCatRecipe">Sub category</label>
    <input [(ngModel)]="recipe.subCategory" class="form-control" id="subCatRecipe" name="subCatRecipe"
           placeholder="Enter sub category"
           type="text">
    <label for="courseRecipe">Course</label>
    <input [(ngModel)]="recipe.course" class="form-control" id="courseRecipe" name="courseRecipe" placeholder="Enter course"
           type="text">

    <p></p>
    <button [disabled]="!addRecipeForm.form.valid" class="btn btn-primary" type="submit">Submit</button>
  </form>
</div>
